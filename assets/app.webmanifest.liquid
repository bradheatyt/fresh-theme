{
  "name": {{ settings.pwa_name | json }},
  "short_name": {{ settings.pwa_name | json }},
  "description": {{ settings.pwa_description | json }},
  "categories": ["shopping"],
  {%- if settings.pwa_theme_color != blank %}
  "theme_color": {{ settings.pwa_theme_color | json }},
  "background_color": {{ settings.pwa_background_color | json }},
  {% endif %}
  "display": "standalone",
  "orientation": "any",
  "dir": "auto",
  {%- if settings.pwa_icon != blank %}
  "icons": [
    {
      "src": {{ settings.pwa_icon | image_url: width: 48, height: 48 | json }},
      "sizes": "48x48"
    },
    {
      "src": {{ settings.pwa_icon | image_url: width: 72, height: 72 | json }},
      "sizes": "72x72"
    },
    {
      "src": {{ settings.pwa_icon | image_url: width: 96, height: 96 | json }},
      "sizes": "96x96"
    },
    {
      "src": {{ settings.pwa_icon | image_url: width: 144, height: 144 | json }},
      "sizes": "144x144"
    },
    {
      "src": {{ settings.pwa_icon | image_url: width: 168, height: 168 | json }},
      "sizes": "168x168"
    },
    {
      "src": {{ settings.pwa_icon | image_url: width: 192, height: 192 | json }},
      "sizes": "192x192"
    },
    {
      "src": {{ settings.pwa_icon | image_url: width: 256, height: 256 | json }},
      "sizes": "256x256"
    },
    {
      "src": {{ settings.pwa_icon | image_url: width: 512, height: 512 | json }},
      "sizes": "512x512"
    }{%- if settings.pwa_maskable_icon != blank -%},
    {
      "src": {{ settings.pwa_maskable_icon | image_url: width: 48, height: 48 | json }},
      "sizes": "48x48",
      "purpose": "maskable"
    },
    {
      "src": {{ settings.pwa_maskable_icon | image_url: width: 72, height: 72 | json }},
      "sizes": "72x72",
      "purpose": "maskable"
    },
    {
      "src": {{ settings.pwa_maskable_icon | image_url: width: 96, height: 96 | json }},
      "sizes": "96x96",
      "purpose": "maskable"
    },
    {
      "src": {{ settings.pwa_maskable_icon | image_url: width: 144, height: 144 | json }},
      "sizes": "144x144",
      "purpose": "maskable"
    },
    {
      "src": {{ settings.pwa_maskable_icon | image_url: width: 168, height: 168 | json }},
      "sizes": "168x168",
      "purpose": "maskable"
    },
    {
      "src": {{ settings.pwa_maskable_icon | image_url: width: 192, height: 192 | json }},
      "sizes": "192x192",
      "purpose": "maskable"
    },
    {
      "src": {{ settings.pwa_maskable_icon | image_url: width: 256, height: 256 | json }},
      "sizes": "256x256",
      "purpose": "maskable"
    },
    {
      "src": {{ settings.pwa_maskable_icon | image_url: width: 512, height: 512 | json }},
      "sizes": "512x512",
      "purpose": "maskable"
    }
    {% endif %}
  ],
  {% endif -%}
  "related_applications": [
    {
      {%- # theme-check-disable MissingAsset %}
      "platform": "webapp",
      "url": {{ 'app.webmanifest' | asset_url | prepend: 'https' | json }}
      {%- # theme-check-enable MissingAsset %}
    }
  ],
  "start_url": "\/?utm_source=pwa",
  "scope": "/",
  "id": "\/?utm_source=pwa"
}
